[gd_scene load_steps=6 format=3]

[ext_resource type="Script" path="res://scripts/Game.gd" id="1"]
[ext_resource type="PackedScene" path="res://city/CityBlockA.tscn" id="2"]
[ext_resource type="PackedScene" path="res://cars/PlayerCar.tscn" id="3"]
[ext_resource type="PackedScene" path="res://cars/NpcCar.tscn" id="4"]
[ext_resource type="PackedScene" path="res://npcs/Pedestrian.tscn" id="5"]
[ext_resource type="PackedScene" path="res://ui/UI.tscn" id="6"]

[node name="Main" type="Node"]
script = ExtResource("1")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("1")

[sub_resource type="Environment" id="1"]
background_color = Color(0.02, 0.02, 0.03, 1)
glow/enabled = true
glow/intensity = 0.7

[node name="CityRoot" parent="." instance=ExtResource("2")]

[node name="PlayerCar" parent="." instance=ExtResource("3")]
transform = Transform3D(Basis(), Vector3(0,0.5,80))

[node name="TrafficManager" type="Node" parent="."]
script = ExtResource("7")

[ext_resource type="Script" path="res://scripts/TrafficManager.gd" id="7"]

[node name="NpcCar" parent="TrafficManager" instance=ExtResource("4")]

[node name="Camera" type="Camera3D" parent="PlayerCar"]
transform = Transform3D(Basis().looking_at(Vector3(0,0,-4), Vector3.UP), Vector3(0,2.0,6))

[node name="Ped1" parent="." instance=ExtResource("5")]
transform = Transform3D(Basis(), Vector3(-4,0,0))

[node name="UI" parent="." instance=ExtResource("6")]

[node name="Sun" type="DirectionalLight3D" parent="."]
light_color = Color(0.7,0.4,1,1)
light_energy = 0.8
transform = Transform3D(Basis(), Vector3(0,10,0))
